---
title: 咖啡剧场 - 2.故事结构
date: 2023-08-21 21:09:50
categories:
- [咖啡剧场]

tags:
---
我们先来看一下故事的结构：

![](/images/6.jpg)


一篇故事大体上就是有上述结构构成，充分了解其结构之后，在创作上才会更加得心应手。当然必要的概念还需要了解的：
**行为**：
行为指具体执行某一逻辑，例如播放音乐、打开界面、显示提示等。每种行为只会做一件事情，整个故事逻辑就由一条条行为组合而成的，所以了解故事中有哪些行为以及使用方法是至关重要的。
从上面的结构上来看，行为分为：全局行为，节点行为和状态行为。其实所有的行为都是一种东西，只不过是在不同的作用空间下而已。
* **全局行为**：监听全局事件执行行为逻辑，例如：开始故事、结束故事等
* **节点行为**：监听节点事件执行行为逻辑，例如：当节点触发，当鼠标进入节点等事件。节点行为在任何状态下都可执行
* **状态行为**：监听节点事件和状态执行行为逻辑，例如：当进入状态、离开状态时等。状态行为一般为当前可执行行为逻辑

**自定义事件**：自定设计的广播事件，其他节点或全局行为可监听该事件然后执行行为。例如：合并电闸后，可广播“通电”事件，电视节点在关闭状态下接收到"通电"事件后，可切换到"开启"状态。
**线索**： 可选项，支持的部分关键节点会给玩家提供一些特殊信息，并将这些信息添加到线索框中显示供玩家快速预览
**节点**：整个故事都是由节点构成的，本质上节点是没有分类的，但是作者可以根据节点使用进行分类，例如：道具节点(钥匙、火把等)、场景节点(房间、门、水杯)等。
**状态**：可为节点分配不同的状态，例如：电视，可以有"未通电"状态和"通电"状态，门有"开启"和"锁住"状态。节点在不同的状态下可以监听单独的事件，例如，门在"未开启"状态状态下接手"钥匙"切换到开启状态。








