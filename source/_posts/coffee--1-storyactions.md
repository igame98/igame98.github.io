---
title:  咖啡剧场 - 附加.故事中行为支持
categories:
- [咖啡剧场]

date: 2023-08-21 22:11:34
tags:
---
行为只能在特定的作用域中使用，否则会出现意想不到问题。我们将作用域划分为：
* 全局：在任何地方都可以使用
* 节点：仅在节点(节点行为|状态行为)中可使用，不能在全局行为中使用
<font color="#ff0000">所以，标记为全局作用的行为在节点中是可以使用的，但是在标记节点的行为在全局行为中是不能使用的</font>

目前在故事中支持以下行为：
**1.显示提示**：全局(**支持标签**)
通过指定的方式显示自定义的提示信息。
显示方式有：
* 底部提示：可用来显示**中等长度且无排版格式**的提示信息，因为默认为居中对齐，所以如果有排版格式的话会非常奇怪
* 屏幕中间飘字：可用来显示**较短且无格式**的通知信息
* 特定的文本框：可用来显示**特别长或有排版**的提示信息，例如日记等提示内容
![](/images/7.jpg)

**2.广播自定义消息**：全局
将自定的消息广播出去，其他节点可监听该消息，收到消息后可执行其他逻辑。
需要先在**“自定义消息”**列表中后，在该行为可现在要广播的消息。
默认会添加两个自定义消息：
开始故事：在基础设置中，如果未勾选**自动开始**，则需要主动派发该消息才能正常开始游戏。
退出故事：在基础设置中，如果未勾选**自定结束**，则需要主动派发该消息才能正常退出游戏。
![](/images/8.jpg)

**3.播放音乐**：全局

**4.显示节点**：全局
通过指定间隔时间，根据指定的节点集合**依次**显示节点。
最通常的使用方式就是：点击节点显示所有子节点，或者使用某个节点后显示另外一个节点。
![](/images/9.jpg)
* 显示间隔：如果有多个节点，则显示一个点后等待该时间才会显示下一个节点
* 节点：节点列表，点击"选..."按钮，会打开节点选择界面，可依次点选想要显示的节点或选择"所有节点"(这里的所有节点指当前节点子节点，在全局行为中该选项不生效)
显示节点会**根据节点列表依次显示**，如果想要调整显示顺序可以在选择节点时按显示顺序依次选择，或在节点列表中点击"上""下"来调整顺序













